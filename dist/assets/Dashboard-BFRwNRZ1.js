import{r,u as ue,j as e,a as ge,d as E}from"./index-Dp2G28v7.js";import{h as me,j as P,q as B,k as Q,m as V}from"./firebase-BcAI075F.js";const F=[{id:"sunrise",gradient:"linear-gradient(140deg, rgba(254,215,170,0.35), rgba(129,140,248,0.2))",caption:"Line up your goals while the day is fresh â€” Gemini is ready to draft supports.",greeting:"Good morning",icon:"ğŸŒ…",iconColor:"#fbbf24"},{id:"day",gradient:"linear-gradient(140deg, rgba(14,165,233,0.28), rgba(59,130,246,0.24))",caption:"Midday momentum keeps every learner on track with just-in-time insights.",greeting:"Good afternoon",icon:"â˜€ï¸",iconColor:"#fde68a"},{id:"sunset",gradient:"linear-gradient(140deg, rgba(249,115,22,0.28), rgba(168,85,247,0.24))",caption:"Capture wins, gaps, and reassignment needs before the sun goes down.",greeting:"Good evening",icon:"ğŸŒ‡",iconColor:"#fb923c"},{id:"night",gradient:"linear-gradient(160deg, rgba(15,118,110,0.28), rgba(99,102,241,0.28))",caption:"Night mode engaged â€” prep tomorrowâ€™s breakthroughs with calm clarity.",greeting:"Good night",icon:"ğŸŒ™",iconColor:"#a5b4fc"}];function he(t){const n=t.getHours();return n<10?F[0]:n<16?F[1]:n<20?F[2]:F[3]}function pe(t){return(t.getHours()*60+t.getMinutes()+t.getSeconds()/60)/1440*360}function xe(){const[t,n]=r.useState(()=>new Date),{displayName:a}=ue();r.useEffect(()=>{const v=window.setInterval(()=>{n(new Date)},1e3);return()=>window.clearInterval(v)},[]);const l=r.useMemo(()=>he(t),[t]),g=r.useMemo(()=>{const v=pe(t),D=t.getSeconds()/60;return v+Math.sin(D*2*Math.PI)*6},[t]),b=r.useMemo(()=>({"--welcome-rotation":`${g}deg`}),[g]),d=r.useMemo(()=>new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit"}).format(t),[t]),S=r.useMemo(()=>new Intl.DateTimeFormat(void 0,{weekday:"long",month:"long",day:"numeric"}).format(t),[t]);return e.jsxs("section",{className:`glass-card dynamic-welcome ${l.id}`,style:{marginBottom:28,backgroundImage:l.gradient,position:"sticky",top:32,zIndex:5},children:[e.jsxs("div",{className:`welcome-orb ${l.id}`,"aria-hidden":!0,style:b,children:[e.jsx("div",{className:"welcome-orb__glow"}),e.jsx("div",{className:"welcome-orb__core"}),e.jsx("div",{className:"welcome-orb__trail"}),e.jsx("div",{className:"welcome-orb__celestial",style:{color:l.iconColor},children:e.jsx("span",{children:l.icon})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"badge",children:"Dynamic welcome"}),e.jsxs("h1",{style:{fontSize:34,margin:"12px 0 6px",fontWeight:800},children:[l.greeting,a?`, ${a}`:", educator","."]}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:16,maxWidth:520},children:l.caption}),e.jsxs("div",{style:{display:"flex",gap:14,marginTop:16,alignItems:"center",color:"rgba(226,232,240,0.8)"},children:[e.jsx("span",{style:{fontSize:18,fontWeight:700},children:d}),e.jsx("span",{style:{opacity:.7},children:S})]})]})]})}function fe({cards:t}){return e.jsx("div",{className:"card-grid card-grid-4",children:t.map(n=>e.jsxs("article",{className:"glass-card fade-in",children:[e.jsx("div",{style:{fontSize:13,letterSpacing:"0.08em",textTransform:"uppercase",color:"var(--text-muted)"},children:n.label}),e.jsx("div",{style:{fontSize:40,fontWeight:900,marginTop:12},children:n.displayValue??n.value}),n.delta&&e.jsx("div",{className:"tag",style:{marginTop:10},children:n.delta})]},n.id))})}const ye=[{id:"approaching",label:"Approaching",description:"Below 50% â€” intensive reteach needed",color:"#fda4af",background:"linear-gradient(90deg, rgba(248, 113, 113, 0.28), rgba(244, 114, 182, 0.18))"},{id:"developing",label:"Developing",description:"50-69% â€” targeted scaffolds",color:"#fcd34d",background:"linear-gradient(90deg, rgba(251, 191, 36, 0.28), rgba(250, 204, 21, 0.14))"},{id:"onGrade",label:"On Grade",description:"70-89% â€” on grade level",color:"#4ade80",background:"linear-gradient(90deg, rgba(74, 222, 128, 0.28), rgba(16, 185, 129, 0.18))"},{id:"mastered",label:"Mastered",description:"90%+ â€” enrichment ready",color:"#60a5fa",background:"linear-gradient(90deg, rgba(96, 165, 250, 0.28), rgba(129, 140, 248, 0.2))"}];function ae(t,n){return n?Math.round(t/n*100):0}function je(t){if(t===null||Number.isNaN(t))return"â€”";const n=Number(t.toFixed(1));return Number.isInteger(n)?`${Math.round(n)}%`:`${n.toFixed(1)}%`}function ve({scopes:t}){const n=r.useMemo(()=>t.filter(a=>a.summary),[t]);return n.length?e.jsxs("section",{className:"glass-card",style:{display:"grid",gap:20},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",gap:16,flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"badge",children:"Proficiency distribution"}),e.jsx("h3",{style:{margin:"12px 0 0",fontSize:24,fontWeight:700},children:"Track mastery momentum"})]}),e.jsx("p",{style:{margin:0,color:"var(--text-muted)",maxWidth:420},children:"These visuals reflect the most recent score for each learner. Missing scores remain flexible â€” they stay in the roster as N/A so uploads never block your workflow."})]}),e.jsx("div",{style:{display:"grid",gap:18,gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))"},children:n.map(a=>{const{summary:l}=a;if(!l)return null;const g=[],b=ae(l.counts.mastered+l.counts.onGrade,l.scoredLearners);if(l.scoredLearners&&(b>=80?g.push("Strong mastery trend â€” celebrate and extend learning!"):b>=60?g.push("Solid footing â€” keep reinforcing core concepts to lift more learners."):g.push("Reinforce foundations â€” focus reteach groups and formative checks.")),a.trendDelta!=null&&!Number.isNaN(a.trendDelta)){const d=a.trendDelta>0?`â–²${a.trendDelta.toFixed(1)} pts`:`â–¼${Math.abs(a.trendDelta).toFixed(1)} pts`;g.push(`Latest shift: ${d}`)}return e.jsxs("article",{className:"glass-subcard",style:{border:"1px solid rgba(148,163,184,0.25)",borderRadius:18,padding:20,display:"grid",gap:14,background:"rgba(15,23,42,0.55)"},children:[e.jsxs("header",{style:{display:"grid",gap:4},children:[e.jsx("strong",{style:{fontSize:18},children:a.title}),e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:a.subtitle})]}),e.jsxs("div",{style:{display:"flex",gap:18,alignItems:"baseline",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:30,fontWeight:700},children:je(l.average)}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:"Average proficiency"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:24,fontWeight:700},children:l.scoredLearners}),e.jsxs("div",{style:{fontSize:13,color:"var(--text-muted)"},children:["Scored / ",l.totalLearners]})]}),a.latestScore!==void 0&&a.latestScore!==null&&e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:24,fontWeight:700},children:[a.latestScore.toFixed(1),"%"]}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:a.latestAssessment??"Latest score"})]})]}),e.jsx("div",{style:{display:"grid",gap:10},children:ye.map(d=>{const S=l.counts[d.id],v=ae(S,l.scoredLearners);return e.jsxs("div",{style:{display:"grid",gap:6},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,color:"var(--text-muted)"},children:[e.jsxs("span",{children:[d.label," Â· ",d.description]}),e.jsxs("span",{children:[S,l.scoredLearners?` Â· ${v}%`:""]})]}),e.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(148,163,184,0.16)",overflow:"hidden"},children:e.jsx("div",{style:{width:`${v}%`,height:"100%",transition:"width 320ms ease",background:d.background,boxShadow:`0 0 12px ${d.color}`}})})]},d.id)})}),g.length>0&&e.jsx("p",{style:{margin:0,fontSize:13,color:"rgba(226,232,240,0.78)"},children:g.join(" ")})]},a.id)})})]}):e.jsxs("section",{className:"glass-card",style:{display:"grid",gap:16},children:[e.jsx("div",{className:"badge",children:"Proficiency distribution"}),e.jsx("p",{style:{margin:0,color:"var(--text-muted)"},children:"Upload a roster to unlock real-time proficiency tracking across all classes and individual students."})]})}function O(t){const n=t.length;if(!n)return null;const a={approaching:0,developing:0,onGrade:0,mastered:0},l=[];t.forEach(d=>{typeof d=="number"&&Number.isFinite(d)&&(l.push(d),d>=90?a.mastered+=1:d>=70?a.onGrade+=1:d>=50?a.developing+=1:a.approaching+=1)});const g=l.length,b=g?l.reduce((d,S)=>d+S,0)/g:null;return{totalLearners:n,scoredLearners:g,average:b,counts:a}}function be(t){if(!t.length)return null;const n=t.filter(g=>typeof g.score=="number");if(n.length<2)return null;const a=n[0].score,l=n[1].score;return a-l}function Ae({user:t,loading:n}){const[a,l]=r.useState([]),[g,b]=r.useState([]),[d,S]=r.useState([]),[v,D]=r.useState(null),[Y,J]=r.useState([]),{records:z,summaries:le,students:h,insights:Se,groupInsights:K,pedagogy:X}=ge(),[x,Z]=r.useState("all"),[A,_]=r.useState(""),ee=r.useMemo(()=>x==="all"?h:h.filter(s=>String(s.period??"")===x),[h,x]),se=r.useMemo(()=>h.map(s=>s.lastScore),[h]),te=r.useMemo(()=>ee.map(s=>s.lastScore),[ee]),L=r.useMemo(()=>O(se),[se]),q=r.useMemo(()=>O(te),[te]);r.useEffect(()=>{!A&&h.length&&_(h[0].id)},[h,A]),r.useEffect(()=>{A&&h.every(s=>s.id!==A)&&_(h[0]?.id??"")},[h,A]);const G=r.useMemo(()=>{const s=new Set;return z.forEach(p=>{p.period!==null&&p.period!==void 0&&s.add(String(p.period))}),Array.from(s).sort((p,w)=>Number(p)-Number(w))},[z]);r.useEffect(()=>{x!=="all"&&!G.includes(x)&&Z(G[0]??"all")},[G,x]);const I=Y.length?Y:le,f=r.useMemo(()=>{if(v)return v;const s=I[0];return s?{testName:s.testName,period:s.period,quarter:s.quarter,studentCount:s.studentCount??void 0,averageScore:s.averageScore,maxScore:s.maxScore,minScore:s.minScore}:null},[v,I]),C=r.useMemo(()=>x==="all"?z:z.filter(s=>String(s.period??"")===x),[z,x]),y=r.useMemo(()=>{if(!C.length)return null;const s=C.filter(c=>typeof c.score=="number"),p=Array.from(new Set(C.map(c=>c.testName).filter(c=>!!c)));if(!s.length)return{average:null,topRecord:null,bottomRecord:null,total:C.length,assessments:p};const w=s.map(c=>c.score),R=w.length?w.reduce((c,j)=>c+j,0)/w.length:null,M=s.reduce((c,j)=>c?j.score>(c.score??-1/0)?j:c:j,null),W=s.reduce((c,j)=>c?j.score<(c.score??1/0)?j:c:j,null);return{average:R,topRecord:M,bottomRecord:W,total:C.length,assessments:p}},[C]),o=r.useMemo(()=>h.length?h.find(s=>s.id===A)??h[0]:null,[h,A]),N=r.useMemo(()=>o?z.filter(s=>s.studentId===o.id||!s.studentId&&s.displayName===o.displayName):[],[z,o]),T=r.useMemo(()=>{if(!o)return null;const s=N.filter(M=>typeof M.score=="number"),p=s.length?s.reduce((M,W)=>M+W.score,0)/s.length:null,w=N[0]??null,R=N.slice(0,3);return{average:p,latest:w,recent:R}},[N,o]),re=r.useMemo(()=>o?N.length?N.map(s=>typeof s.score=="number"?s.score:null):[o.lastScore??null]:[],[o,N]),H=r.useMemo(()=>O(re),[re]),ne=r.useMemo(()=>be(N),[N]),oe=r.useMemo(()=>{const s=[];if(L&&s.push({id:"all",title:"All classes",subtitle:`Latest data across ${L.totalLearners} learners`,summary:L}),q){const p=x==="all";s.push({id:"class",title:p?"Class overview":`Period ${x}`,subtitle:p?"Combined view of every active class":`Focused on learners rostered in period ${x}`,summary:q})}return o&&H&&s.push({id:"student",title:o.displayName,subtitle:"Individual trajectory",summary:H,latestScore:typeof o.lastScore=="number"?o.lastScore:void 0,latestAssessment:o.lastAssessment??void 0,trendDelta:ne??void 0}),s},[L,q,x,o,H,ne]);return r.useEffect(()=>{if(!t){l([]),b([]),S([]),J([]),D(null);return}const s=me(E,`users/${t.uid}/dashboard_stats/metrics`),p=P(s,k=>{const i=k.data()||{},m=[];if(typeof i.totalEnrollment=="number"&&m.push({id:"enrollment",label:"Learners scored",value:i.totalEnrollment}),i.latestAssessment){const $=i.latestAssessment;D($);const U=$.averageScore??null;m.push({id:"latest-average",label:"Latest class average",value:U??0,displayValue:U!==null?U.toFixed(1):"â€”"}),typeof $.studentCount=="number"&&m.push({id:"latest-count",label:"Students assessed",value:$.studentCount})}else D(null);const u=typeof i.aiGroupCount=="number"?i.aiGroupCount:null,de=typeof i.rosterGroupCount=="number"?i.rosterGroupCount:typeof i.groupCount=="number"?i.groupCount:null,ce=typeof i.aiGroupDelta=="number"?i.aiGroupDelta:typeof i.rosterGroupDelta=="number"?i.rosterGroupDelta:typeof i.groupDelta=="number"?i.groupDelta:void 0,ie=u??de;typeof ie=="number"&&m.push({id:"groups",label:"Active Groups",value:ie,delta:ce}),typeof i.onTrack=="number"&&m.push({id:"on-track",label:"On Track",value:i.onTrack??0,delta:i.onTrackDelta??void 0}),typeof i.atRisk=="number"&&m.push({id:"at-risk",label:"Needs Support",value:i.atRisk??0,delta:i.atRiskDelta??void 0}),m.length===0&&m.push({id:"placeholder",label:"Data incoming",value:0,displayValue:"â€”"}),l(m)}),w=B(V(E,`users/${t.uid}/logs`),Q("createdAt","desc")),R=P(w,k=>{const i=[];k.forEach(m=>{const u=m.data();i.push({id:m.id,title:u.title??"Insight",detail:u.detail??u.message??"Gemini generated an insight.",createdAt:u.createdAt?.toDate?.()??null})}),b(i.slice(0,5))}),M=B(V(E,`users/${t.uid}/assignments`),Q("dueDate","asc")),W=P(M,k=>{const i=[];k.forEach(m=>{const u=m.data();i.push({id:m.id,title:u.title??"Untitled assignment",dueDate:u.dueDate,status:u.status??"draft"})}),S(i.slice(0,4))}),c=B(V(E,`users/${t.uid}/assessments_summary`),Q("updatedAt","desc")),j=P(c,k=>{const i=[];k.forEach(m=>{const u=m.data();i.push({id:m.id,testName:u.testName??"Assessment",period:u.period,quarter:u.quarter,studentCount:u.studentCount,averageScore:u.averageScore,maxScore:u.maxScore,minScore:u.minScore,updatedAt:u.updatedAt?.toDate?.()??null})}),J(i.slice(0,3))});return()=>{p(),R(),W(),j()}},[t]),n?e.jsx("div",{className:"glass-card",children:"Loading your workspaceâ€¦"}):t?e.jsxs("div",{className:"fade-in",children:[e.jsx(xe,{}),e.jsxs("section",{style:{display:"grid",gap:28},children:[e.jsx(fe,{cards:a}),e.jsx(ve,{scopes:oe}),e.jsxs("section",{className:"glass-card",style:{display:"grid",gap:18},children:[e.jsx("div",{className:"badge",children:"Class & student explorer"}),e.jsxs("div",{style:{display:"grid",gap:18,gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))"},children:[e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(148,163,184,0.25)",background:"rgba(15,23,42,0.55)",display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsx("strong",{children:"Class view"}),e.jsxs("select",{value:x,onChange:s=>Z(s.target.value),className:"table-input",style:{maxWidth:160},children:[e.jsx("option",{value:"all",children:"All periods"}),G.map(s=>e.jsxs("option",{value:s,children:["Period ",s]},s))]})]}),y?e.jsxs("div",{style:{display:"grid",gap:10,fontSize:14},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Students"}),e.jsx("div",{style:{fontSize:24,fontWeight:700},children:y.total})]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Average"}),e.jsx("div",{style:{fontSize:22,fontWeight:700},children:y.average!==null?y.average.toFixed(1):"â€”"})]}),y.topRecord&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Top performer"}),e.jsxs("div",{style:{marginTop:4},children:[y.topRecord.displayName," Â· ",y.topRecord.score??"â€”"]})]}),y.bottomRecord&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Needs support"}),e.jsxs("div",{style:{marginTop:4},children:[y.bottomRecord.displayName," Â· ",y.bottomRecord.score??"â€”"]})]}),y.assessments.length>0&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Assessments"}),e.jsx("div",{style:{marginTop:4},children:y.assessments.join(", ")})]}),K.length>0&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Groups"}),e.jsx("ul",{style:{margin:"6px 0 0 16px",padding:0,display:"grid",gap:4,color:"var(--text-muted)",listStyle:"disc"},children:K.slice(0,3).map(s=>e.jsxs("li",{children:[s.label,": ",s.range]},s.id))})]}),X?.summary&&e.jsx("p",{style:{margin:0,color:"var(--text-muted)",fontSize:13},children:X.summary})]}):e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14,margin:"4px 0 0"},children:"Upload roster data to populate class metrics."})]}),e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(148,163,184,0.25)",background:"rgba(15,23,42,0.55)",display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsx("strong",{children:"Student focus"}),e.jsx("select",{value:A,onChange:s=>_(s.target.value),className:"table-input",style:{maxWidth:200},children:h.map(s=>e.jsx("option",{value:s.id,children:s.displayName},s.id))})]}),o?e.jsxs("div",{style:{display:"grid",gap:10,fontSize:14},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Latest score"}),e.jsxs("div",{style:{marginTop:4},children:[o.lastScore!==null&&o.lastScore!==void 0?o.lastScore:"â€”",o.lastAssessment&&` Â· ${o.lastAssessment}`]})]}),e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Average"}),e.jsx("div",{style:{marginTop:4},children:T?.average!==null&&T?.average!==void 0?T.average.toFixed(1):"â€”"})]}),o.periodHistory&&o.periodHistory.length>0&&e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Period history"}),e.jsx("div",{style:{marginTop:4},children:Array.from(new Set(o.periodHistory.filter(s=>s!=null))).join(", ")})]}),T?.recent.length?e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:"Recent mastery"}),e.jsx("ul",{style:{margin:"6px 0 0 16px",padding:0,display:"grid",gap:4,color:"var(--text-muted)",listStyle:"disc"},children:T.recent.map(s=>e.jsxs("li",{children:[s.testName??"Assessment"," Â· ",s.score??"â€”"]},s.id))})]}):null]}):e.jsx("p",{style:{color:"var(--text-muted)",fontSize:14,margin:"4px 0 0"},children:"Upload roster data to view individual trends."})]})]})]}),f&&e.jsxs("section",{className:"glass-card",children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"badge",children:"Latest mastery upload"}),e.jsx("h3",{style:{margin:"12px 0 0",fontSize:24,fontWeight:700},children:f.testName})]}),f.period&&f.quarter&&e.jsxs("span",{className:"tag",children:["Period ",f.period," Â· ",f.quarter]})]}),e.jsx("div",{style:{display:"grid",gap:12,marginTop:18},children:e.jsxs("div",{style:{display:"flex",gap:18,flexWrap:"wrap"},children:[e.jsxs("div",{className:"glass-subcard",style:{padding:16,borderRadius:16,border:"1px solid rgba(148,163,184,0.25)",background:"rgba(15,23,42,0.55)"},children:[e.jsx("strong",{children:"Average"}),e.jsx("div",{style:{fontSize:26,fontWeight:700,marginTop:6},children:f.averageScore!==null&&f.averageScore!==void 0?f.averageScore.toFixed(1):"â€”"})]}),e.jsxs("div",{className:"glass-subcard",style:{padding:16,borderRadius:16,border:"1px solid rgba(148,163,184,0.25)",background:"rgba(15,23,42,0.55)"},children:[e.jsx("strong",{children:"Range"}),e.jsxs("div",{style:{marginTop:6},children:["High ",f.maxScore??"â€”"," Â· Low ",f.minScore??"â€”"]})]}),e.jsxs("div",{className:"glass-subcard",style:{padding:16,borderRadius:16,border:"1px solid rgba(148,163,184,0.25)",background:"rgba(15,23,42,0.55)"},children:[e.jsx("strong",{children:"Learners"}),e.jsx("div",{style:{fontSize:26,fontWeight:700,marginTop:6},children:f.studentCount??"â€”"})]})]})})]}),I.length>0&&e.jsxs("section",{className:"glass-card",children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"badge",children:"Assessment history"}),e.jsx("h3",{style:{margin:"12px 0 0",fontSize:24,fontWeight:700},children:"Recent uploads"})]}),e.jsx("a",{href:"/assignments",style:{color:"var(--accent)",fontWeight:600},children:"Design follow-ups â†’"})]}),e.jsxs("table",{className:"table",style:{marginTop:18},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Assessment"}),e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Quarter"}),e.jsx("th",{children:"Avg"}),e.jsx("th",{children:"High"}),e.jsx("th",{children:"Low"}),e.jsx("th",{children:"Updated"})]})}),e.jsx("tbody",{children:I.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.testName}),e.jsx("td",{children:s.period??"â€”"}),e.jsx("td",{children:s.quarter??"â€”"}),e.jsx("td",{children:s.averageScore!==null&&s.averageScore!==void 0?s.averageScore.toFixed(1):"â€”"}),e.jsx("td",{children:s.maxScore??"â€”"}),e.jsx("td",{children:s.minScore??"â€”"}),e.jsx("td",{children:s.updatedAt?s.updatedAt.toLocaleString():"â€”"})]},s.id))})]})]}),e.jsxs("section",{className:"glass-card",children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"badge",children:"Live oversight"}),e.jsx("h3",{style:{margin:"12px 0 0",fontSize:24,fontWeight:700},children:"Pulse updates"})]}),e.jsx("a",{href:"/groups",style:{color:"var(--accent)",fontWeight:600},children:"Review groups â†’"})]}),g.length===0?e.jsx("div",{className:"empty-state",style:{marginTop:18},children:"No Gemini actions logged yet. Generate student groups or lessons to see reflective insights here."}):e.jsx("ul",{style:{listStyle:"none",padding:0,marginTop:22,display:"grid",gap:16},children:g.map(s=>e.jsxs("li",{style:{border:"1px solid rgba(148,163,184,0.2)",borderRadius:14,padding:16},children:[e.jsx("div",{style:{fontWeight:600},children:s.title}),e.jsx("div",{style:{color:"var(--text-muted)",marginTop:4},children:s.detail}),s.createdAt&&e.jsx("div",{style:{fontSize:12,marginTop:10,color:"rgba(148,163,184,0.7)"},children:s.createdAt.toLocaleString()})]},s.id))})]}),e.jsxs("section",{className:"glass-card",children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"badge",children:"Upcoming"}),e.jsx("h3",{style:{margin:"12px 0 0",fontSize:24,fontWeight:700},children:"Assignments radar"})]}),e.jsx("a",{href:"/assignments",style:{color:"var(--accent)",fontWeight:600},children:"Manage assignments â†’"})]}),d.length===0?e.jsx("div",{className:"empty-state",style:{marginTop:18},children:"Create differentiated assignments from any standard to monitor mastery progress here."}):e.jsxs("table",{className:"table",style:{marginTop:18},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Assignment"}),e.jsx("th",{children:"Due date"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:d.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.title}),e.jsx("td",{children:s.dueDate?new Date(s.dueDate).toLocaleDateString():"No due date"}),e.jsx("td",{style:{textTransform:"capitalize"},children:s.status})]},s.id))})]})]})]})]}):e.jsxs("div",{className:"glass-card fade-in",children:[e.jsx("h2",{style:{fontSize:28,margin:"0 0 12px",fontWeight:800},children:"Authenticate to launch Synapse"}),e.jsx("p",{style:{color:"var(--text-muted)",maxWidth:520},children:"Sign in with your Google Workspace educator account to unlock roster uploads, Gemini-powered grouping, and live mastery analytics."})]})}export{Ae as default};
