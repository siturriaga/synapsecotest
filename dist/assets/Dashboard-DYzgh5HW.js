import{r as a,u as Je,j as e,d as B,a as Xe}from"./index-BDE7gFa4.js";import{h as ie,t as et,m as ye,u as tt,q as be,l as st,w as rt,j as he,k as De}from"./firebase-HdBvgX-e.js";const ae=[{id:"sunrise",gradient:"linear-gradient(140deg, rgba(254,215,170,0.35), rgba(129,140,248,0.2))",caption:"Morning spark: let‚Äôs map today‚Äôs wins together and sketch the supports you need.",greeting:"Good morning",icon:"üåÖ",iconColor:"#fbbf24"},{id:"day",gradient:"linear-gradient(140deg, rgba(14,165,233,0.28), rgba(59,130,246,0.24))",caption:"Midday boost: grab the right insight, adjust groups, and keep every learner moving.",greeting:"Good afternoon",icon:"‚òÄÔ∏è",iconColor:"#fde68a"},{id:"sunset",gradient:"linear-gradient(140deg, rgba(249,115,22,0.28), rgba(168,85,247,0.24))",caption:"Evening check-in: jot the wins, note the gaps, and queue tomorrow‚Äôs nudges.",greeting:"Good evening",icon:"üåá",iconColor:"#fb923c"},{id:"night",gradient:"linear-gradient(160deg, rgba(15,118,110,0.28), rgba(99,102,241,0.28))",caption:"Night shift: slow the pace, reflect, and set up tomorrow‚Äôs breakthroughs with calm clarity.",greeting:"Good night",icon:"üåô",iconColor:"#a5b4fc"}];function at(s){const n=s.getHours();return n<10?ae[0]:n<16?ae[1]:n<20?ae[2]:ae[3]}function nt(s){return(s.getHours()*60+s.getMinutes()+s.getSeconds()/60)/1440*360}function it(){const[s,n]=a.useState(()=>new Date),[o,i]=a.useState(!1),{displayName:l}=Je();a.useEffect(()=>{const p=window.setInterval(()=>{n(new Date)},1e3);return()=>window.clearInterval(p)},[]),a.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function"){i(!1);return}const p=window.matchMedia("(max-width: 720px)"),h=()=>{i(p.matches)};return h(),typeof p.addEventListener=="function"?(p.addEventListener("change",h),()=>p.removeEventListener("change",h)):(p.addListener(h),()=>p.removeListener(h))},[]);const d=a.useMemo(()=>at(s),[s]),u=a.useMemo(()=>{const p=nt(s),h=s.getSeconds()/60;return p+Math.sin(h*2*Math.PI)*6},[s]),v=a.useMemo(()=>({"--welcome-rotation":`${u}deg`}),[u]),m=a.useMemo(()=>new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit"}).format(s),[s]),C=a.useMemo(()=>new Intl.DateTimeFormat(void 0,{weekday:"long",month:"long",day:"numeric"}).format(s),[s]);return e.jsxs("section",{className:`glass-card dynamic-welcome ${d.id}`,"data-compact":o?"true":void 0,style:{marginBottom:o?24:32,backgroundImage:d.gradient,position:o?"relative":"sticky",top:o?void 0:32,zIndex:o?void 0:5},children:[e.jsxs("div",{className:"welcome-backdrop","aria-hidden":!0,children:[e.jsx("span",{className:"welcome-particle"}),e.jsx("span",{className:"welcome-particle"}),e.jsx("span",{className:"welcome-particle"})]}),e.jsxs("div",{className:`welcome-orb ${d.id}`,"aria-hidden":!0,style:v,children:[e.jsx("div",{className:"welcome-orb__glow"}),e.jsx("div",{className:"welcome-orb__core"}),e.jsx("div",{className:"welcome-orb__trail"}),e.jsx("div",{className:"welcome-orb__celestial",style:{color:d.iconColor},children:e.jsx("span",{children:d.icon})})]}),e.jsxs("div",{className:"welcome-content",children:[e.jsxs("h1",{className:"welcome-title",children:[d.greeting,l?`, ${l}`:", educator","."]}),e.jsx("p",{className:"welcome-caption",children:d.caption}),e.jsxs("div",{className:"welcome-meta",children:[e.jsxs("div",{children:[e.jsx("span",{className:"welcome-meta__label",children:"Current time"}),e.jsx("div",{className:"welcome-meta__value",children:m})]}),e.jsxs("div",{children:[e.jsx("span",{className:"welcome-meta__label",children:"Today"}),e.jsx("div",{className:"welcome-meta__value",children:C})]})]})]})]})}const Re=[{background:"linear-gradient(135deg, rgba(59,130,246,0.55), rgba(14,116,144,0.48))",border:"rgba(96,165,250,0.75)",accent:"rgba(226,245,255,0.94)",glow:"0 24px 45px rgba(14,116,144,0.35)"},{background:"linear-gradient(135deg, rgba(110,231,183,0.55), rgba(16,185,129,0.45))",border:"rgba(45,212,191,0.75)",accent:"rgba(236,253,245,0.94)",glow:"0 24px 45px rgba(16,185,129,0.28)"},{background:"linear-gradient(135deg, rgba(244,114,182,0.55), rgba(251,191,36,0.45))",border:"rgba(244,114,182,0.72)",accent:"rgba(255,241,242,0.94)",glow:"0 24px 45px rgba(236,72,153,0.28)"},{background:"linear-gradient(135deg, rgba(192,132,252,0.55), rgba(79,70,229,0.45))",border:"rgba(167,139,250,0.75)",accent:"rgba(237,233,254,0.94)",glow:"0 24px 45px rgba(124,58,237,0.32)"}];function lt({cards:s}){return e.jsx("div",{className:"card-grid card-grid-4",children:s.map((n,o)=>{const i=Re[o%Re.length];return e.jsxs("article",{className:"glass-card fade-in",style:{background:i.background,borderColor:i.border,color:i.accent,boxShadow:i.glow,backdropFilter:"blur(24px)",transform:"translateY(0)",transition:"transform 220ms ease, box-shadow 220ms ease"},onMouseEnter:l=>{l.currentTarget.style.transform="translateY(-6px)",l.currentTarget.style.boxShadow="0 32px 70px rgba(15,23,42,0.45)"},onMouseLeave:l=>{l.currentTarget.style.transform="translateY(0)",l.currentTarget.style.boxShadow=i.glow},children:[e.jsx("div",{style:{fontSize:13,letterSpacing:"0.08em",textTransform:"uppercase",opacity:.85},children:n.label}),e.jsx("div",{style:{fontSize:40,fontWeight:900,marginTop:12},children:n.displayValue??n.value}),n.delta&&e.jsx("div",{className:"tag",style:{marginTop:10,background:"rgba(15, 23, 42, 0.25)",border:"1px solid rgba(255,255,255,0.22)"},children:n.delta})]},n.id)})})}function ot(s,n){if(typeof window>"u")return;const o=document.getElementById(s);if(!o){window.print();return}const i=window.open("","_blank","noopener,noreferrer,width=900,height=650");if(!i){window.print();return}const l=o.cloneNode(!0),d=Array.from(document.head.querySelectorAll('style, link[rel="stylesheet"]')).map(m=>m.outerHTML).join(`
`),u=Object.entries(document.body.dataset).map(([m,C])=>`data-${m}="${C??""}"`).join(" "),v=u?` ${u}`:"";i.document.open(),i.document.write(`<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>${n??document.title}</title>
${d}
<style>
  @media print {
    body { margin: 24px; }
  }
</style>
</head>
<body${v}>
<div class="print-container">${l.outerHTML}</div>
</body>
</html>`),i.document.close(),i.focus(),i.print(),i.close()}function Q({targetId:s,label:n="Print section",title:o}){const i=a.useCallback(()=>{ot(s,o)},[s,o]);return e.jsxs("button",{type:"button",onClick:i,className:"print-button","aria-label":n,title:n,children:[e.jsx("span",{className:"print-button__icon","aria-hidden":"true",children:"üñ®Ô∏è"}),e.jsx("span",{className:"print-button__label",children:"Print"})]})}const dt=[{id:"approaching",label:"Approaching",description:"Below 50% ‚Äî intensive reteach needed",color:"#fda4af",background:"linear-gradient(90deg, rgba(248, 113, 113, 0.38), rgba(244, 114, 182, 0.28))"},{id:"developing",label:"Developing",description:"50-69% ‚Äî targeted scaffolds",color:"#fcd34d",background:"linear-gradient(90deg, rgba(251, 191, 36, 0.38), rgba(250, 204, 21, 0.22))"},{id:"onGrade",label:"On Grade",description:"70-89% ‚Äî on grade level",color:"#4ade80",background:"linear-gradient(90deg, rgba(74, 222, 128, 0.38), rgba(16, 185, 129, 0.26))"},{id:"mastered",label:"Mastered",description:"90%+ ‚Äî enrichment ready",color:"#60a5fa",background:"linear-gradient(90deg, rgba(96, 165, 250, 0.38), rgba(129, 140, 248, 0.26))"}];function Le(s,n){return n?Math.round(s/n*100):0}function ct(s){if(s===null||Number.isNaN(s))return"N/A";const n=Number(s.toFixed(1));return Number.isInteger(n)?`${Math.round(n)}%`:`${n.toFixed(1)}%`}function ut({scopes:s,sectionId:n="mastery-distribution",headerExtras:o}){const i=a.useMemo(()=>s.filter(l=>l.summary),[s]);return i.length?e.jsxs("section",{id:n,className:"glass-card",style:{display:"grid",gap:20},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:16,flexWrap:"wrap"},children:[e.jsx("div",{children:e.jsx("h3",{style:{margin:0,fontSize:24,fontWeight:700},children:"Track mastery momentum"})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap",maxWidth:520},children:[o,e.jsx("p",{style:{margin:0,color:"var(--text-muted)"},children:"These visuals reflect the most recent score for each learner. Missing scores remain flexible ‚Äî they stay in the roster as N/A so uploads never block your workflow."}),e.jsx(Q,{targetId:n,label:"Print mastery distribution"})]})]}),e.jsx("div",{style:{display:"grid",gap:18,gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))"},children:i.map(l=>{const{summary:d}=l;if(!d)return null;const u=[],v=Le(d.counts.mastered+d.counts.onGrade,d.scoredLearners),m=d.scoredLearners>0?d.scoredLearners:"N/A",C=d.totalLearners>0?d.totalLearners:"N/A",p=d.scoredLearners>0;if(d.scoredLearners&&(v>=80?u.push("Plenty to celebrate ‚Äî stretch thinking with enrichment bursts."):v>=60?u.push("Solid footing ‚Äî layer scaffolds so more learners tip into mastery."):u.push("Let‚Äôs shore up essentials with focused reteach groups and quick pulses.")),l.trendDelta!=null&&!Number.isNaN(l.trendDelta)){const h=l.trendDelta>0?`‚ñ≤${l.trendDelta.toFixed(1)} pts`:`‚ñº${Math.abs(l.trendDelta).toFixed(1)} pts`;u.push(`Latest shift: ${h} across the most recent uploads.`)}return e.jsxs("article",{className:"glass-subcard",style:{border:"1px solid rgba(148,163,184,0.35)",borderRadius:18,padding:20,display:"grid",gap:14,background:"linear-gradient(135deg, rgba(15,23,42,0.72), rgba(30,64,175,0.25))",boxShadow:"0 28px 60px rgba(15,23,42,0.45)"},children:[e.jsxs("header",{style:{display:"grid",gap:4},children:[e.jsx("strong",{style:{fontSize:18},children:l.title}),e.jsx("span",{style:{color:"var(--text-muted)",fontSize:13},children:l.subtitle})]}),e.jsxs("div",{style:{display:"flex",gap:18,alignItems:"baseline",flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:30,fontWeight:700},children:ct(d.average)}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:"Average proficiency"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:24,fontWeight:700},children:m}),e.jsxs("div",{style:{fontSize:13,color:"var(--text-muted)"},children:["Scored / ",C]})]}),l.latestScore!==void 0&&l.latestScore!==null&&e.jsxs("div",{children:[e.jsxs("div",{style:{fontSize:24,fontWeight:700},children:[l.latestScore.toFixed(1),"%"]}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:l.latestAssessment??"Latest score"})]})]}),e.jsx("div",{style:{display:"grid",gap:10},children:dt.map(h=>{const x=d.counts[h.id],y=Le(x,d.scoredLearners);return e.jsxs("div",{style:{display:"grid",gap:6},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:13,color:"var(--text-muted)"},children:[e.jsxs("span",{children:[h.label," ¬∑ ",h.description]}),e.jsx("span",{children:p?e.jsxs(e.Fragment,{children:[x,` ¬∑ ${y}%`]}):"N/A"})]}),e.jsx("div",{style:{height:10,borderRadius:999,background:"rgba(148,163,184,0.16)",overflow:"hidden"},children:e.jsx("div",{style:{width:`${y}%`,height:"100%",transition:"width 320ms ease",background:h.background,boxShadow:`0 0 12px ${h.color}`}})})]},h.id)})}),u.length>0&&e.jsx("p",{style:{margin:0,fontSize:13,color:"rgba(226,232,240,0.78)"},children:u.join(" ")})]},l.id)})})]}):e.jsxs("section",{id:n,className:"glass-card",style:{display:"grid",gap:16},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16},children:[e.jsx("div",{children:e.jsx("h3",{style:{margin:0,fontSize:24,fontWeight:700},children:"Mastery data"})}),e.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[o,e.jsx(Q,{targetId:n,label:"Print mastery distribution"})]})]}),e.jsxs("article",{className:"glass-subcard",style:{border:"1px solid rgba(148,163,184,0.35)",borderRadius:16,padding:18,background:"rgba(15,23,42,0.62)"},children:[e.jsx("strong",{style:{fontSize:18,display:"block",marginBottom:6},children:"Mastery data"}),e.jsx("p",{style:{margin:0,color:"var(--text-muted)"},children:"Proficiency metrics are currently N/A. Upload data when you have it, but your workflow stays flexible in the meantime."})]})]})}function fe(s){const n=s.length,o={approaching:0,developing:0,onGrade:0,mastered:0},i=[];s.forEach(u=>{typeof u=="number"&&Number.isFinite(u)&&(i.push(u),u>=90?o.mastered+=1:u>=70?o.onGrade+=1:u>=50?o.developing+=1:o.approaching+=1)});const l=i.length,d=l?i.reduce((u,v)=>u+v,0)/l:null;return{totalLearners:n,scoredLearners:l,average:d,counts:o}}function mt(s){if(!s.length)return null;const n=s.filter(l=>typeof l.score=="number");if(n.length<2)return null;const o=n[0].score,i=n[1].score;return o-i}function Ie(s){return s.toLowerCase().replace(/\s+/g," ").trim()}function gt({student:s,history:n,classAverage:o,trendDelta:i,groupInsights:l,pedagogy:d}){if(!s)return null;const u=n[0]??null,v=typeof u?.score=="number"?u.score:s.lastScore,m=u?.testName??s.lastAssessment,C=[];if(typeof v=="number"){const f=v.toFixed(1).replace(/\.0$/,""),L=m?` on ${m}`:"";if(C.push(`${s.displayName} is working around ${f}%${L}, giving us a clear snapshot for next steps.`),typeof o=="number"){const j=v-o,E=j>0?"ahead of":j<0?"just behind":"right in step with",D=Math.abs(j).toFixed(1).replace(/\.0$/,"");j!==0?C.push(`That‚Äôs about ${D} pts ${E} the class average of ${o.toFixed(1)}%.`):C.push("They are right in step with the current class average.")}}else C.push(`${s.displayName} doesn‚Äôt have a recent scored checkpoint yet. Let‚Äôs capture the next one together so we can tailor support.`);if(typeof i=="number"&&!Number.isNaN(i)&&i!==0){const f=i>0?`building ‚ñ≤${i.toFixed(1)} pts momentum`:`showing a ‚ñº${Math.abs(i).toFixed(1)} pts dip`;C.push(`Recent trajectory is ${f} across the last two assessments.`)}const p=[];n.slice(0,3).forEach(f=>{const L=f.createdAt?f.createdAt.toLocaleDateString():"Recent",j=typeof f.score=="number"?`${f.score.toFixed(1).replace(/\.0$/,"")}%`:"N/A",E=f.testName??"Assessment";p.push(`${E} (${L}): ${j}`)}),!p.length&&typeof v=="number"&&p.push(`Latest recorded score: ${v.toFixed(1).replace(/\.0$/,"")}%`);const h=[],x=new Set([s.displayName,...s.nameVariants??[]].map(Ie)),y=l.find(f=>f.students.some(L=>x.has(Ie(L.name))));if(y){const f=y.recommendedPractices[0];h.push(`${s.displayName} sits in the ${y.label.toLowerCase()} cohort (${y.range}). Let‚Äôs lean on ${f??"targeted feedback and collaborative routines"} this week.`)}return d?.bestPractices?.length&&d.bestPractices.slice(0,2).forEach(f=>{h.push(f)}),h.length||h.push("Celebrate strengths during conferences and co-design the next learning target side by side."),{headline:C.join(" "),highlights:p,recommendations:h}}function xe({data:s,stroke:n="rgba(94,234,212,0.9)",fill:o="rgba(94,234,212,0.25)"}){const i=a.useId();if(!s.length)return e.jsx("div",{style:{fontSize:12,color:"var(--text-muted)"},children:"No trend data"});const l=s.map(y=>typeof y.value=="number"?y.value:null),d=l.filter(y=>y!==null);if(!d.length)return e.jsx("div",{style:{fontSize:12,color:"var(--text-muted)"},children:"No scored trend"});const u=Math.min(...d),m=Math.max(...d)-u||1,C=l.map((y,f)=>{const L=f/Math.max(1,s.length-1)*100,j=y===null?null:100-(y-u)/m*100;return{x:L,y:j}});let p=!0;const h=C.map(y=>{if(y.y===null)return"";const f=p?"M":"L";return p=!1,`${f}${y.x},${y.y}`}).filter(Boolean).join(" "),x=h?`${h} L100,100 L0,100 Z`:"";return e.jsxs("div",{style:{display:"grid",gap:6},children:[e.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{width:"100%",height:90},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`${i}-sparkline`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:o,stopOpacity:.9}),e.jsx("stop",{offset:"100%",stopColor:o,stopOpacity:.1})]})}),x&&e.jsx("path",{d:x,fill:`url(#${i}-sparkline)`,stroke:"none",opacity:.8}),h&&e.jsx("path",{d:h,fill:"none",stroke:n,strokeWidth:2.5,strokeLinecap:"round"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:11,color:"var(--text-muted)"},children:[e.jsx("span",{children:s[0]?.label}),e.jsx("span",{children:s[s.length-1]?.label})]})]})}function U({label:s,onClear:n,tone:o="section"}){const[i,l]=a.useState(!1),d=async()=>{if(!(i||!window.confirm("Are you sure you want to clear this data? This action cannot be undone.")))try{l(!0),await n()}finally{l(!1)}},u=o==="danger"?"rgba(248,113,113,0.18)":"rgba(94,234,212,0.16)",v=o==="danger"?"rgba(248,113,113,0.6)":"rgba(94,234,212,0.45)",m=o==="danger"?"rgba(254,226,226,0.92)":"rgba(204,251,241,0.92)";return e.jsx("button",{type:"button",className:"clear-button",onClick:d,disabled:i,style:{display:"inline-flex",alignItems:"center",gap:8,padding:"6px 14px",borderRadius:999,border:`1px solid ${v}`,background:u,color:m,fontSize:13,textTransform:"uppercase",letterSpacing:"0.08em",cursor:i?"not-allowed":"pointer",opacity:i?.6:1},children:i?"Clearing‚Ä¶":s})}async function K(s,n=B){const o=ye(n,s);for(;;){const i=await tt(be(o,st(500)));if(i.empty)return;const l=rt(n);i.docs.forEach(d=>{l.delete(d.ref)}),await l.commit()}}async function ve(s){try{await et(s)}catch(n){console.error("Failed to delete document",s.path,n)}}async function We(s){await ve(ie(B,`users/${s}/dashboard_stats/metrics`))}async function pt(s){await K(`users/${s}/logs`)}async function Ee(s){await K(`users/${s}/assignments`)}async function je(s){await K(`users/${s}/assessments_summary`)}async function Pe(s){await K(`users/${s}/assessments`)}async function ht(s){await K(`users/${s}/students`)}async function ft(s){await K(`users/${s}/uploads`)}async function xt(s){await ve(ie(B,`users/${s}/workspace_cache/rosterSnapshot`)),await ve(ie(B,`users/${s}/workspace_cache/groupInsights`))}async function Fe(s){await Promise.all([Pe(s),je(s),ht(s),ft(s),xt(s)])}async function yt(s){await Promise.all([We(s),pt(s),Ee(s),Fe(s)])}const bt=["1","2","3","4","5","6","7","8"],P={stats:"dashboard-overview",mastery:"mastery-distribution",explorer:"class-student-explorer",assessmentHistory:"assessment-history",assignments:"assignments-radar"};function Y(s){if(s===null||Number.isNaN(s))return;const n=Number(s.toFixed(1));return Number.isFinite(n)?`${n>0?"+":""}${n.toFixed(1)} pts`:void 0}function z(s){if(s==null||Number.isNaN(s))return"N/A";const n=Number(s.toFixed(1));return Number.isInteger(n)?`${Math.round(n)}%`:`${n.toFixed(1)}%`}function ne(s){return s.length?s.reduce((o,i)=>o+i,0)/s.length:null}function St({user:s,loading:n}){const[o,i]=a.useState([]),[l,d]=a.useState([]),[u,v]=a.useState([]),[m,C]=a.useState("all"),[p,h]=a.useState("all"),[x,y]=a.useState("combined"),[f,L]=a.useState("combined"),[j,E]=a.useState(""),{records:D,summaries:Se,students:S,insights:we,groupInsights:Ne,pedagogy:Ce}=Xe(),I=a.useMemo(()=>u.length?u:Se,[u,Se]);a.useEffect(()=>{!j&&S.length&&E(S[0].id)},[S,j]),a.useEffect(()=>{j&&S.every(t=>t.id!==j)&&E(S[0]?.id??"")},[S,j]);const Z=a.useMemo(()=>m==="all"?S:S.filter(t=>String(t.period??"")===m),[S,m]);a.useEffect(()=>{const t=Z.length?Z:S;if(!t.length){E("");return}j&&t.every(r=>r.id!==j)&&E(t[0]?.id??"")},[Z,S,j]);const le=a.useMemo(()=>{const t=new Set;return D.forEach(r=>{r.period!==null&&r.period!==void 0&&t.add(String(r.period))}),S.forEach(r=>{r.period!==null&&r.period!==void 0&&t.add(String(r.period))}),t},[D,S]),F=a.useMemo(()=>{const t=Array.from(new Set([...bt,...Array.from(le)]));return t.sort((r,g)=>Number(r)-Number(g)),t.map(r=>({value:r,hasData:le.has(r)}))},[le]);a.useEffect(()=>{m!=="all"&&(F.some(t=>t.value===m)||C(F[0]?.value??"all"))},[F,m]),a.useEffect(()=>{p!=="all"&&(F.some(t=>t.value===p)||h("all"))},[F,p]);const H=a.useMemo(()=>{const t=new Set;return I.forEach(r=>{r.testName&&t.add(r.testName)}),D.forEach(r=>{r.testName&&t.add(r.testName)}),["combined",...Array.from(t).sort((r,g)=>r.localeCompare(g))]},[I,D]);a.useEffect(()=>{H.includes(x)||y("combined")},[x,H]),a.useEffect(()=>{H.includes(f)||L("combined")},[f,H]);const J=a.useMemo(()=>x==="combined"?D:D.filter(t=>t.testName===x),[D,x]),ke=a.useMemo(()=>x==="combined"?I:I.filter(t=>t.testName===x),[I,x]),Ae=a.useMemo(()=>[...ke].sort((t,r)=>{const g=t.updatedAt?t.updatedAt.getTime():0;return(r.updatedAt?r.updatedAt.getTime():0)-g}),[ke]),N=Ae[0]??null,_=Ae[1]??null,Me=a.useMemo(()=>{const t=new Map;return S.forEach(r=>{const g=r.period!=null?String(r.period):null;r.id&&t.set(r.id,g),r.displayName&&t.set(r.displayName,g)}),t},[S]),X=a.useMemo(()=>{const t=new Map;return[...J].sort((g,k)=>{const T=g.createdAt?g.createdAt.getTime():0;return(k.createdAt?k.createdAt.getTime():0)-T}).forEach(g=>{if(typeof g.score!="number")return;const k=g.studentId??g.displayName??g.id;if(!k||t.has(k))return;let T=null;g.period!==null&&g.period!==void 0?T=String(g.period):T=Me.get(g.studentId??g.displayName??"")??null,t.set(k,{score:g.score,period:T,testName:g.testName??null})}),t},[J,Me]),A=a.useMemo(()=>Array.from(X.values()).map(t=>t.score),[X]),$e=a.useMemo(()=>m==="all"?A:Array.from(X.values()).filter(t=>t.period===m).map(t=>t.score),[A,X,m]),ee=a.useMemo(()=>fe(A),[A]),oe=a.useMemo(()=>fe($e),[$e]),O=a.useMemo(()=>m==="all"?J:J.filter(t=>String(t.period??"")===m),[J,m]),W=a.useMemo(()=>{const t=Array.from(new Set(O.map(b=>b.testName).filter(b=>!!b)));if(!O.length)return{average:null,topRecord:null,bottomRecord:null,total:0,assessments:t};const r=O.filter(b=>typeof b.score=="number");if(!r.length)return{average:null,topRecord:null,bottomRecord:null,total:O.length,assessments:t};const g=r.map(b=>b.score),k=ne(g),T=r.reduce((b,c)=>b?c.score>(b.score??-1/0)?c:b:c,null),re=r.reduce((b,c)=>b?c.score<(b.score??1/0)?c:b:c,null);return{average:k,topRecord:T,bottomRecord:re,total:O.length,assessments:t}},[O]),w=a.useMemo(()=>S.length?S.find(t=>t.id===j)??S[0]:null,[S,j]),$=a.useMemo(()=>{if(!w)return[];const t=D.filter(r=>r.studentId===w.id||!r.studentId&&r.displayName===w.displayName);return f==="combined"?t:t.filter(r=>r.testName===f)},[D,w,f]),G=a.useMemo(()=>{if(!w)return null;const t=$.filter(T=>typeof T.score=="number"),r=t.length?ne(t.map(T=>T.score)):null,g=$[0]??null,k=$.slice(0,3);return{average:r,latest:g,recent:k}},[$,w]),Te=a.useMemo(()=>w?$.length?$.map(t=>typeof t.score=="number"?t.score:null):[w.lastScore??null]:[],[w,$]),de=a.useMemo(()=>fe(Te),[Te]),V=a.useMemo(()=>mt($),[$]),q=a.useMemo(()=>w?gt({student:w,history:$,classAverage:W?.average??we?.averageScore??null,trendDelta:V,groupInsights:Ne,pedagogy:Ce??null}):null,[w,$,W?.average,we?.averageScore,V,Ne,Ce]),_e=a.useMemo(()=>[...$].reverse().map((t,r)=>({label:t.testName??`Entry ${r+1}`,value:typeof t.score=="number"?t.score:null})),[$]),Ge=a.useMemo(()=>{const t=[];if(ee){const r=x==="combined"?"All classes ¬∑ all tests":`${x}`;t.push({id:"all",title:r,subtitle:`Latest data across ${ee.totalLearners} learners`,summary:ee})}if(oe){const r=m==="all";t.push({id:"class",title:r?"Class overview":`Period ${m}`,subtitle:r?"Combined view of every active class":`Focused on learners rostered in period ${m}`,summary:oe})}return w&&de&&t.push({id:"student",title:w.displayName,subtitle:"Individual trajectory",summary:de,latestScore:typeof w.lastScore=="number"?w.lastScore:void 0,latestAssessment:w.lastAssessment??void 0,trendDelta:V??void 0}),t},[ee,oe,m,w,x,de,V]),ze=a.useMemo(()=>!N||!_||N.averageScore==null||_.averageScore==null?null:N.averageScore-_.averageScore,[N,_]),te=a.useMemo(()=>N?.studentCount!=null?N.studentCount:A.length,[A.length,N?.studentCount]),ce=a.useMemo(()=>N?.maxScore!=null?N.maxScore:A.length?Math.max(...A):null,[A,N]),ue=a.useMemo(()=>N?.minScore!=null?N.minScore:A.length?Math.min(...A):null,[A,N]),me=a.useMemo(()=>N?.averageScore!=null?N.averageScore:ne(A),[A,N]),Be=a.useMemo(()=>{const t=[];return t.push({id:"average-score",label:x==="combined"?"Latest average (all tests)":`${x} average`,value:me??0,displayValue:z(me),delta:Y(ze)}),t.push({id:"learner-count",label:"Learners represented",value:te??0,displayValue:te?te.toLocaleString():"N/A",delta:N?.studentCount!=null&&_?.studentCount!=null?Y(N.studentCount-_.studentCount):void 0}),t.push({id:"highest-score",label:"Peak score",value:ce??0,displayValue:z(ce)}),t.push({id:"lowest-score",label:"Floor score",value:ue??0,displayValue:z(ue)}),o.filter(r=>!["average-score","learner-count","highest-score","lowest-score"].includes(r.id)).forEach(r=>t.push(r)),t},[me,ce,te,ue,_?.studentCount,o,x,ze,N?.studentCount]),ge=a.useMemo(()=>p==="all"?I:I.filter(t=>String(t.period??"")===p),[I,p]),pe=a.useMemo(()=>[...I].filter(t=>t.averageScore!=null).sort((t,r)=>{const g=t.updatedAt?t.updatedAt.getTime():0,k=r.updatedAt?r.updatedAt.getTime():0;return g-k}).map((t,r)=>({label:t.testName||`Assessment ${r+1}`,value:t.averageScore??null})),[I]),He=a.useMemo(()=>[...ge].filter(t=>t.averageScore!=null).sort((t,r)=>{const g=t.updatedAt?t.updatedAt.getTime():0,k=r.updatedAt?r.updatedAt.getTime():0;return g-k}).map((t,r)=>({label:t.testName||`Assessment ${r+1}`,value:t.averageScore??null})),[ge]),Oe=a.useMemo(()=>{const t=pe.map(r=>r.value).filter(r=>r!=null);return ne(t)},[pe]);a.useEffect(()=>{if(!s){i([]),d([]),v([]);return}const t=ie(B,`users/${s.uid}/dashboard_stats/metrics`),r=he(t,b=>{const c=b.data()||{},R=[];if(typeof c.totalEnrollment=="number"&&R.push({id:"enrollment",label:"Learners scored",value:c.totalEnrollment}),typeof c.aiGroupCount=="number"||typeof c.rosterGroupCount=="number"||typeof c.groupCount=="number"){const M=typeof c.aiGroupCount=="number"?c.aiGroupCount:typeof c.rosterGroupCount=="number"?c.rosterGroupCount:c.groupCount;R.push({id:"groups",label:"Active groups",value:M??0,delta:Y(typeof c.aiGroupDelta=="number"?c.aiGroupDelta:typeof c.rosterGroupDelta=="number"?c.rosterGroupDelta:typeof c.groupDelta=="number"?c.groupDelta:null)})}typeof c.onTrack=="number"&&R.push({id:"on-track",label:"On track",value:c.onTrack??0,delta:Y(typeof c.onTrackDelta=="number"?c.onTrackDelta:null)}),typeof c.atRisk=="number"&&R.push({id:"at-risk",label:"Needs support",value:c.atRisk??0,delta:Y(typeof c.atRiskDelta=="number"?c.atRiskDelta:null)}),i(R)}),g=be(ye(B,`users/${s.uid}/assignments`),De("dueDate","asc")),k=he(g,b=>{const c=[];b.forEach(R=>{const M=R.data();c.push({id:R.id,title:M.title??"N/A",dueDate:M.dueDate,status:M.status??"draft"})}),d(c.slice(0,6))}),T=be(ye(B,`users/${s.uid}/assessments_summary`),De("updatedAt","desc")),re=he(T,b=>{const c=[];b.forEach(R=>{const M=R.data();c.push({id:R.id,testName:M.testName??"N/A",period:M.period,quarter:M.quarter,studentCount:M.studentCount,averageScore:M.averageScore,maxScore:M.maxScore,minScore:M.minScore,updatedAt:M.updatedAt?.toDate?.()??null})}),v(c)});return()=>{r(),k(),re()}},[s]);const Ve=a.useCallback(async()=>{s&&await We(s.uid)},[s]),qe=a.useCallback(async()=>{s&&await Promise.all([Pe(s.uid),je(s.uid)])},[s]),Ue=a.useCallback(async()=>{s&&await Fe(s.uid)},[s]),Ye=a.useCallback(async()=>{s&&await je(s.uid)},[s]),Qe=a.useCallback(async()=>{s&&await Ee(s.uid)},[s]),Ke=a.useCallback(async()=>{s&&await yt(s.uid)},[s]);if(n)return e.jsx("div",{className:"glass-card",children:"Loading your workspace‚Ä¶"});if(!s)return e.jsxs("div",{className:"glass-card fade-in",children:[e.jsx("h2",{style:{fontSize:28,margin:"0 0 12px",fontWeight:800},children:"Authenticate to launch Synapse"}),e.jsx("p",{style:{color:"var(--text-muted)",maxWidth:520},children:"Sign in with your Google Workspace educator account to unlock roster uploads, Gemini-powered grouping, and live mastery analytics."})]});const se=t=>t==="combined"?"All tests ¬∑ combined":t,Ze=Z.length?Z:S;return e.jsxs("div",{className:"fade-in",style:{display:"grid",gap:32},children:[e.jsx(it,{}),e.jsxs("section",{style:{display:"grid",gap:32},children:[e.jsxs("section",{id:P.stats,style:{display:"grid",gap:16},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"4px 0 6px",fontSize:24,fontWeight:700},children:"Daily pulse"}),e.jsx("p",{style:{margin:0,color:"var(--text-muted)",maxWidth:460},children:"Toggle between assessments to focus your planning. Combined mode blends every scored learner into a unified snapshot."})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsx("label",{htmlFor:"dashboard-test-filter",style:{fontSize:13,color:"var(--text-muted)"},children:"Showing"}),e.jsx("select",{id:"dashboard-test-filter",value:x,onChange:t=>y(t.target.value),className:"table-input",style:{minWidth:180},children:H.map(t=>e.jsx("option",{value:t,children:se(t)},t))}),e.jsx(U,{label:"Clear metrics",onClear:Ve}),e.jsx(Q,{targetId:P.stats,label:"Print key metrics"})]})]}),e.jsx(lt,{cards:Be})]}),e.jsx(ut,{scopes:Ge,sectionId:P.mastery,headerExtras:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsx("span",{className:"tag",style:{background:"rgba(148,163,184,0.15)",border:"1px solid rgba(148,163,184,0.35)"},children:se(x)}),e.jsx(U,{label:"Clear mastery",onClear:qe})]})}),e.jsxs("section",{id:P.explorer,className:"glass-card",style:{display:"grid",gap:24},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"4px 0 6px",fontSize:24,fontWeight:700},children:"Focus on every learner"}),e.jsx("p",{style:{margin:0,color:"var(--text-muted)",maxWidth:540},children:"Drill into periods and assessments to surface trends. Gemini keeps insights current so you can move from planning to action quickly."})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsx(U,{label:"Clear explorer",onClear:Ue}),e.jsx(Q,{targetId:P.explorer,label:"Print class and student explorer"})]})]}),e.jsxs("div",{style:{display:"grid",gap:18,gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))"},children:[e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.6)",display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"grid",gap:4},children:[e.jsx("label",{htmlFor:"dashboard-period-filter",style:{fontWeight:600},children:"Class focus"}),e.jsx("span",{style:{color:"var(--text-muted)",fontSize:12},children:"Select all classes or a period to tailor metrics. Periods without uploads stay available for future data."})]}),e.jsxs("select",{id:"dashboard-period-filter",value:m,onChange:t=>C(t.target.value),className:"table-input",children:[e.jsx("option",{value:"all",children:"All classes"}),F.map(t=>e.jsx("option",{value:t.value,children:`Period ${t.value}${t.hasData?"":" ¬∑ no data yet"}`},t.value))]})]}),e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.6)",display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"grid",gap:4},children:[e.jsx("label",{htmlFor:"dashboard-explorer-test",style:{fontWeight:600},children:"Assessment focus"}),e.jsx("span",{style:{color:"var(--text-muted)",fontSize:12},children:"Compare an individual test or keep the combined perspective to show every evidence point."})]}),e.jsx("select",{id:"dashboard-explorer-test",value:f,onChange:t=>L(t.target.value),className:"table-input",children:H.map(t=>e.jsx("option",{value:t,children:se(t)},t))})]}),e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(99,102,241,0.35)",background:"linear-gradient(135deg, rgba(99,102,241,0.25), rgba(14,165,233,0.18))",display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"grid",gap:4},children:[e.jsx("label",{htmlFor:"dashboard-student-select",style:{fontWeight:600},children:"Spotlight learner"}),e.jsx("span",{style:{color:"var(--text-muted)",fontSize:12},children:"Choose a student to review their assessment story and Gemini-powered coaching notes."})]}),e.jsx("select",{id:"dashboard-student-select",value:j,onChange:t=>E(t.target.value),className:"table-input",children:Ze.map(t=>e.jsx("option",{value:t.id,children:t.displayName},t.id))})]})]}),e.jsxs("div",{style:{display:"grid",gap:18,gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))"},children:[e.jsxs("div",{className:"glass-subcard",style:{padding:20,borderRadius:18,border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.65)",display:"grid",gap:12},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsx("strong",{style:{fontSize:18},children:"Class summary"}),e.jsx("span",{className:"tag",style:{background:"rgba(148,163,184,0.2)",border:"1px solid rgba(148,163,184,0.35)"},children:m==="all"?"All classes":`Period ${m}`})]}),e.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:28,fontWeight:700},children:z(W.average)}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:"Average proficiency"})]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:20,fontWeight:600},children:W.total}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:"Assessments scored"})]})]}),e.jsxs("div",{style:{display:"grid",gap:6,color:"var(--text-muted)",fontSize:13},children:[e.jsxs("span",{children:["Top performer:"," ",W.topRecord?`${W.topRecord.displayName} ¬∑ ${z(W.topRecord.score??null)}`:"N/A"]}),e.jsxs("span",{children:["Focus area:"," ",W.bottomRecord?`${W.bottomRecord.displayName} ¬∑ ${z(W.bottomRecord.score??null)}`:"N/A"]})]})]}),w&&G&&e.jsxs("div",{className:"glass-subcard",style:{padding:20,borderRadius:18,border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.65)",display:"grid",gap:14},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsx("strong",{style:{fontSize:18},children:w.displayName}),e.jsx("span",{className:"tag",style:{background:"rgba(99,102,241,0.18)",border:"1px solid rgba(99,102,241,0.35)"},children:se(f)})]}),e.jsxs("div",{style:{display:"flex",gap:16,flexWrap:"wrap"},children:[e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:26,fontWeight:700},children:z(G.average)}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:"Average"})]}),G.latest&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:20,fontWeight:600},children:z(G.latest.score??null)}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:G.latest.testName??"Latest evidence"})]}),V!=null&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:18,fontWeight:600},children:Y(V)??"‚Äî"}),e.jsx("div",{style:{fontSize:13,color:"var(--text-muted)"},children:"Trend"})]})]}),e.jsx(xe,{data:_e,stroke:"rgba(129,140,248,0.9)",fill:"rgba(129,140,248,0.28)"}),G.recent.length>0&&e.jsxs("div",{children:[e.jsx("strong",{style:{fontSize:13},children:"Recent assessments"}),e.jsx("ul",{style:{margin:"6px 0 0 16px",padding:0,display:"grid",gap:4,color:"var(--text-muted)"},children:G.recent.map((t,r)=>e.jsxs("li",{children:[t.testName??"Assessment"," ¬∑ ",z(t.score??null)]},r))})]})]}),q&&e.jsxs("div",{className:"glass-subcard",style:{padding:20,borderRadius:18,border:"1px solid rgba(99,102,241,0.35)",background:"linear-gradient(135deg, rgba(99,102,241,0.32), rgba(14,165,233,0.18))",display:"grid",gap:12},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsx("strong",{children:"AI insight"}),e.jsx("span",{className:"tag",style:{background:"rgba(15,23,42,0.45)",border:"1px solid rgba(255,255,255,0.2)"},children:"Gemini brief"})]}),e.jsx("p",{style:{margin:0,color:"rgba(226,232,240,0.92)",lineHeight:1.6},children:q.headline}),q.highlights.length>0&&e.jsxs("div",{children:[e.jsx("strong",{style:{fontSize:13},children:"Recent evidence"}),e.jsx("ul",{style:{margin:"8px 0 0 16px",padding:0,display:"grid",gap:4,color:"var(--text-muted)",listStyle:"disc"},children:q.highlights.map((t,r)=>e.jsx("li",{children:t},r))})]}),q.recommendations.length>0&&e.jsxs("div",{style:{display:"grid",gap:6},children:[e.jsx("strong",{style:{fontSize:13},children:"Next steps"}),e.jsx("ul",{style:{margin:"4px 0 0 16px",padding:0,display:"grid",gap:4,color:"var(--text-muted)",listStyle:"disc"},children:q.recommendations.map((t,r)=>e.jsx("li",{children:t},r))})]})]})]})]}),e.jsxs("section",{id:P.assessmentHistory,className:"glass-card",style:{display:"grid",gap:20},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"4px 0 6px",fontSize:24,fontWeight:700},children:"Progress across tests"}),e.jsx("p",{style:{margin:0,color:"var(--text-muted)",maxWidth:520},children:"Review every upload with period filters and trend visuals. Combined averages synthesize growth across the entire roster."})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsx("label",{htmlFor:"assessment-period-filter",style:{fontSize:13,color:"var(--text-muted)"},children:"Period focus"}),e.jsxs("select",{id:"assessment-period-filter",value:p,onChange:t=>h(t.target.value),className:"table-input",style:{minWidth:160},children:[e.jsx("option",{value:"all",children:"All classes"}),F.map(t=>e.jsx("option",{value:t.value,children:`Period ${t.value}`},t.value))]}),e.jsx(U,{label:"Clear history",onClear:Ye}),e.jsx(Q,{targetId:P.assessmentHistory,label:"Print assessment history"})]})]}),e.jsxs("div",{style:{display:"grid",gap:18,gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},children:[e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.6)",display:"grid",gap:6},children:[e.jsx("span",{style:{fontSize:12,letterSpacing:"0.08em",textTransform:"uppercase",color:"var(--text-muted)"},children:"All classes average across tests"}),e.jsx("strong",{style:{fontSize:28},children:z(Oe)})]}),e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.6)"},children:[e.jsx("strong",{style:{fontSize:14,color:"var(--text-muted)"},children:"All classes trend"}),e.jsx(xe,{data:pe,stroke:"rgba(45,212,191,0.9)",fill:"rgba(45,212,191,0.25)"})]}),e.jsxs("div",{className:"glass-subcard",style:{padding:18,borderRadius:18,border:"1px solid rgba(148,163,184,0.35)",background:"rgba(15,23,42,0.6)"},children:[e.jsx("strong",{style:{fontSize:14,color:"var(--text-muted)"},children:p==="all"?"Period comparison":`Period ${p} trend`}),e.jsx(xe,{data:He,stroke:"rgba(129,140,248,0.9)",fill:"rgba(129,140,248,0.25)"})]})]}),e.jsxs("table",{className:"table",style:{marginTop:8},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Assessment"}),e.jsx("th",{children:"Period"}),e.jsx("th",{children:"Avg"}),e.jsx("th",{children:"High"}),e.jsx("th",{children:"Low"}),e.jsx("th",{children:"Updated"})]})}),e.jsx("tbody",{children:ge.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.testName}),e.jsx("td",{children:t.period??"All"}),e.jsx("td",{children:z(t.averageScore??null)}),e.jsx("td",{children:z(t.maxScore??null)}),e.jsx("td",{children:z(t.minScore??null)}),e.jsx("td",{children:t.updatedAt?t.updatedAt.toLocaleString():"N/A"})]},t.id))})]})]}),e.jsxs("section",{id:P.assignments,className:"glass-card",style:{display:"grid",gap:20},children:[e.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"4px 0 6px",fontSize:24,fontWeight:700},children:"Assignments radar"}),e.jsx("p",{style:{margin:0,color:"var(--text-muted)",maxWidth:480},children:"Keep extensions, reteach plans, and mastery celebrations organized in one hub ready for printing."})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[e.jsx(U,{label:"Clear assignments",onClear:Qe}),e.jsx(Q,{targetId:P.assignments,label:"Print assignments radar"})]})]}),l.length===0?e.jsx("div",{className:"empty-state",style:{marginTop:18},children:"Create differentiated assignments from any standard to monitor mastery progress here."}):e.jsxs("table",{className:"table",style:{marginTop:8},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Assignment"}),e.jsx("th",{children:"Due date"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:l.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.title}),e.jsx("td",{children:t.dueDate?new Date(t.dueDate).toLocaleDateString():"No due date"}),e.jsx("td",{style:{textTransform:"capitalize"},children:t.status})]},t.id))})]})]})]}),e.jsxs("div",{style:{display:"grid",justifyItems:"center",gap:12},children:[e.jsx(U,{label:"Master clear workspace",onClear:Ke,tone:"danger"}),e.jsx("p",{style:{fontSize:12,color:"var(--text-muted)",textAlign:"center",maxWidth:360},children:"Master clear removes dashboard metrics, assessments, students, assignments, and cached insights for this account. Use with care."})]})]})}export{St as default};
